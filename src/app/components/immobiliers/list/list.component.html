<div class="background-container">
  <!-- Confirmation Dialog -->
  <div *ngIf="showConfirmationDialog" class="confirmation-dialog-overlay">
    <div class="confirmation-dialog" [@dialogAnimation]>
      <div class="dialog-header">
        <h3>Confirmer la suppression</h3>
        <button class="close-button" (click)="cancelDelete()">×</button>
      </div>
      <div class="dialog-content">
        <p>Êtes-vous sûr de vouloir supprimer ce bien immobilier ?</p>
        <p class="warning-text">Cette action est irréversible.</p>
      </div>
      <div class="dialog-actions">
        <button class="cancel-button" (click)="cancelDelete()">Annuler</button>
        <button class="confirm-button" (click)="confirmDelete()">Supprimer</button>
      </div>
    </div>
  </div>

  <!-- Notification -->
  <div *ngIf="showDeleteNotification" class="delete-notification" [@fadeInOut]>
    <div class="notification-content">
      <div class="notification-icon success-icon">✓</div>
      <div class="notification-text">Le bien immobilier a été supprimé avec succès</div>
      <button class="notification-close" (click)="hideNotification()">×</button>
    </div>
  </div>

  <div class="content-container">
    <div class="header">
      <h2>Liste des biens immobiliers</h2>
      <button class="add-button" routerLink="/add">+ Ajouter un bien</button>
    </div>

    <div class="property-list">
      <div *ngFor="let item of immobiliers" class="property-card">
        <div class="property-image">
          <img [src]="getImageUrl(item.photoPath)" 
               [alt]="item.type + ' à ' + item.ville"
               (error)="handleImageError($event)"
               class="property-img">
        </div>
        <div class="property-info">
          <h3>{{ item.ville }}</h3>
          <div class="price">{{ item.prix | currency:'EUR':'symbol':'1.0-0' }}</div>
          <div class="details">
            <span>{{ item.superficie }} m²</span>
            <span class="type-badge">{{ item.type }}</span>
          </div>
          
          <div class="action-buttons">
            <button class="edit-button" (click)="editProperty(item.id)">✏️ Éditer</button>
            <button class="delete-button" (click)="deleteProperty(item.id)">🗑️ Supprimer</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>